<div class="content">
  <mb-table-title [title]="'model.vendor.list'"></mb-table-title>
  <!-- filter element -->
  <nz-table class="content mt-3">
    <div [formGroup]="form" class="filter-element">
      <div class="row p-4">
        <div class="col-3">
          <label>{{ "common.keyword" | translate }}</label>
          <input type="text" nz-input formControlName="keyword" [placeholder]="'model.user.searchTitle' | translate"
                 (keyup.enter)="this.search()"/>
        </div>
       </div>
      <div class="row mt-3 mb-3 text-center">
        <div class="col-12">
          <button class="me-3" nz-button nzType="default" (click)="resetSearch()">
            {{ "action.reset" | translate }}
          </button>
          <button nz-button nzType="primary" (click)="search()">
            {{ "common.search" | translate }}
          </button>
        </div>
      </div>
    </div>
  </nz-table>
  <div class="row mt-3">
    <div class="col-12 text-end">
      <mb-button [type]="'primary'" class="me-3" [icon]="'plus'" [text]="'action.create'"
                 (click)="create()">
      </mb-button>
    </div>
  </div>
  <!--end filter element -->
  <div class="row mt-3">
    <div class="col-12">
      <nz-table
        #table
        [nzData]="vendors"
        [nzNoResult]="noDataResult"
        [nzTableLayout]="'auto'"
        (nzQueryParams)="onQueryParamsChange($event)"
      >
        <thead>
        <tr>
          <th nzAlign="center">{{ "common.index" | translate }}</th>
          <th nzAlign="center" nzColumnKey="name" [nzSortFn]="true">
            {{ "model.vendor.name" | translate }}
          </th>
          <th nzAlign="center" nzColumnKey="email" [nzSortFn]="true">
            {{ "model.vendor.email" | translate }}
          </th>
          <th nzAlign="center" nzColumnKey="phone" [nzSortFn]="true">
            {{ "model.vendor.phoneNumber" | translate }}
          </th>
          <th nzAlign="center" nzColumnKey="address" [nzSortFn]="true">
            {{ "model.vendor.address" | translate }}
          </th>
          <th nzAlign="center" nzColumnKey="bankName" [nzSortFn]="true">
            {{ "model.vendor.bankName" | translate }}
          </th>
          <th nzAlign="center" nzColumnKey="bankNumber" [nzSortFn]="true">
            {{ "model.vendor.bankNumber" | translate }}
          </th>
          <th
            nzAlign="center"
            [nzWidth]="'180px'"
          >
            {{ "action.msg" | translate }}
          </th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let item of vendors; let i = index">
          <tr>
            <td nzAlign="center">{{ getIndex(i) }}</td>
            <td
            nzAlign="center"
            >
              {{ getLimitLength(item.name!) }}
            </td>
            <td nzAlign="left">{{ item.email }}</td>
            <td nzAlign="left">{{item.phone }}</td>
            <td nzAlign="center">{{ item.address }}</td>
            <td
              nzAlign="left"
              [nzTooltipTitle]="item.email"
              nzTooltipPlacement="top"
              nz-tooltip
            >
              {{ item.bankName }}
            </td>
            <td nzAlign="left">{{ item.bankNumber }}</td>
            <td nzAlign="left">
              <!--<i class="icon icon-edit"-->
              <!--(click)="update(item)"-->
              <!--nz-icon nzType="edit"-->
              <!--nzTheme="fill"-->
              <!--nzTooltipTitle="{{'action.update' | translate}}"-->
              <!--nzTooltipPlacement="top"-->
              <!--nz-tooltip></i>-->
              <mb-button-action
              [action]="'view'"
              nzTooltipTitle="{{ 'action.detail' | translate }}"
              nzTooltipPlacement="top"
              nz-tooltip
              (click)="detail(item)"
            >
            </mb-button-action>
              <mb-button-action
                  [action]="'edit'"
                  className="first"
                  nzTooltipTitle="{{ 'action.update' | translate }}"
                  nzTooltipPlacement="top"
                  nz-tooltip
                  (click)="update(item)"
                >
                </mb-button-action>
                <mb-button-action
                  [action]="'delete'"
                  [className]="'last'"
                  nzTooltipTitle="{{ 'action.update' | translate }}"
                  nzTooltipPlacement="top"
                  nz-tooltip
                  (click)="delete(item)"
                >
                </mb-button-action>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </nz-table>
      <mb-pagination
        [pageIndex]="pageIndex"
        [pageSize]="pageSize"
        [total]="total"
        (onChange)="onQuerySearch($event)"
      >
      </mb-pagination>
    </div>
  </div>
</div>
<ng-template #noDataResult>
  <mb-no-data></mb-no-data>
</ng-template>
